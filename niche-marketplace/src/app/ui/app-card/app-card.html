<div class="card-ad" [routerLink]="['/annonces', ad.id]">
    <div class="card-image">
        <img [src]="ad.images[0] || 'assets/default-ad.jpg'" [alt]="ad.title" />
        @if (ad.isBoosted) {
        <span class="boosted-badge">Boost√©</span>
        }
        <button class="favorite-btn" (click)="toggleFavorite($event)">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                <path [attr.fill]="isFavorite ? 'currentColor' : 'none'" stroke="currentColor" stroke-width="2"
                    d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" />
            </svg>
        </button>
    </div>

    <div class="card-content">
        <h3 class="card-title">{{ ad.title }}</h3>
        <p class="card-price">{{ ad.price | currency:'EUR':'symbol':'1.0-0' }}</p>
        <p class="card-location">{{ ad.location }}</p>
        <div class="card-footer">
            <span class="card-date">{{ ad.createdAt | date:'dd/MM/yyyy' }}</span>
            @if (showViews) {
            <span class="card-views">{{ ad.viewCount }} vues</span>
            }
        </div>
    </div>
</div>