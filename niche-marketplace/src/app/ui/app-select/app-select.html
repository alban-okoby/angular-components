<div class="select-container" [class.has-error]="error">
    @if (label) {
    <label [for]="id" class="select-label">{{ label }}</label>
    }

    <div class="select-wrapper">
        @if (multiple) {
        <div class="multiselect">
            <div class="selected-tags" *ngIf="selectedValues.length > 0">
                @for (option of getSelectedOptions(); track option.value) {
                <span class="tag">
                    {{ option.label }}
                    <button type="button" class="tag-remove" (click)="removeTag(option.value)">
                        Ã—
                    </button>
                </span>
                }
            </div>
            <select [id]="id" [multiple]="true" [disabled]="disabled" (change)="onMultipleChange($event)"
                class="select-input">
                <option value="" disabled selected *ngIf="placeholder && selectedValues.length === 0">
                    {{ placeholder }}
                </option>
                @for (option of options; track option.value) {
                <option [value]="option.value" [disabled]="option.disabled" [selected]="isOptionSelected(option.value)">
                    {{ option.label }}
                </option>
                }
            </select>
        </div>
        } @else {
        <select [id]="id" [disabled]="disabled" [(ngModel)]="selectedValue" (ngModelChange)="onSingleChange($event)"
            class="select-input" [class.has-placeholder]="!selectedValue">
            @if (placeholder) {
            <option value="" disabled selected>{{ placeholder }}</option>
            }
            @for (option of options; track option.value) {
            <option [value]="option.value" [disabled]="option.disabled">
                {{ option.label }}
            </option>
            }
        </select>
        }

        <div class="select-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
            </svg>
        </div>
    </div>

    @if (error) {
    <div class="error-message">{{ error }}</div>
    }
    @if (hint && !error) {
    <div class="hint">{{ hint }}</div>
    }
</div>